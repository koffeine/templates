plugins {
	id 'org.springframework.boot' version '2.6.1'
	id 'io.spring.dependency-management' version '1.0.11.RELEASE'

	id 'com.github.ben-manes.versions' version '0.39.0'
}

apply plugin: 'java'
apply plugin: 'idea'

sourceCompatibility = 17

tasks.withType(JavaCompile) {
	options.encoding = 'UTF-8'
	options.compilerArgs = [ '-Xlint:deprecation', '-Xlint:unchecked' ]
}

repositories {
	mavenCentral()
}

dependencies {
	implementation(
		'org.springframework.boot:spring-boot-starter-web',
		'org.springframework.boot:spring-boot-starter-validation'
	)

	testImplementation(
		'org.springframework.boot:spring-boot-starter-test'
	)
}

test {
	useJUnitPlatform()
}


wrapper {
	gradleVersion = '7.3.2'
}

dependencyUpdates.rejectVersionIf { version ->
	[].any { qualifier ->
		version.candidate.version ==~ /(?i).*[\.-]${qualifier}[\d]*/
	}
}

idea {
	module {
		excludeDirs += files('.idea', 'gradle')
	}
}
